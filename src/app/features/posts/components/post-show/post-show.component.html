<div class="page-header">
  <h2>Post Details</h2>
  <nz-space>
    <button *nzSpaceItem nz-button (click)="goBack()">
      <span nz-icon nzType="arrow-left"></span>
      Back to Posts
    </button>
    @if (postQuery.data()) {
      <button *nzSpaceItem nz-button nzType="primary" (click)="editPost()">
        <span nz-icon nzType="edit"></span>
        Edit
      </button>
      <button 
        *nzSpaceItem 
        nz-button 
        nzDanger
        nz-popconfirm
        nzPopconfirmTitle="Are you sure you want to delete this post?"
        (nzOnConfirm)="deletePost()"
      >
        <span nz-icon nzType="delete"></span>
        Delete
      </button>
    }
  </nz-space>
</div>

@if (postQuery.data(); as currentPost) {
  <nz-card [nzTitle]="currentPost.title">
    <div class="post-meta">
      <p><strong>User ID:</strong> {{ currentPost.userId }}</p>
      <p><strong>Post ID:</strong> {{ currentPost.id }}</p>
    </div>
    
    <nz-divider></nz-divider>
    
    <div class="post-content">
      <p>{{ currentPost.body }}</p>
    </div>

  </nz-card>
} @else {
  <nz-card nzTitle="Post Not Found">
    <p>The requested post could not be found.</p>
    <button nz-button nzType="primary" (click)="goBack()">
      Back to Posts
    </button>
  </nz-card>
}